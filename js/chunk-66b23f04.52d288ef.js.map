{"version":3,"sources":["webpack:///./src/components/forestage/cart/CartProductList.vue","webpack:///./src/components/forestage/cart/CartProductList.vue?254a","webpack:///./src/assets/svg/trash-can-solid.svg","webpack:///./src/components/forestage/order/ReceiptInformation.vue","webpack:///./src/components/forestage/order/ReceiptInformation.vue?3957","webpack:///./src/views/forestage/order/OrderView.vue","webpack:///./src/views/forestage/order/OrderView.vue?6097"],"names":["class","order","products","product","key","id","src","imageUrl","alt","title","price","type","qty","changeProductQuantity","Math","round","final_total","useCoupon","coupon","deleteProduct","sumsPriceTotal","props","Array","required","Boolean","computed","this","reduce","sum","item","sums","methods","data","product_id","$store","dispatch","code","__exports__","render","module","exports","undefined","is_paid","user","name","href","phone","tel","email","address","message","Object","for","action","searchOrderFrom","orderId","isValue","value","payOrder","to","components","CartProductList","ReceiptInformation","searchOrder","getters","entries","map"],"mappings":"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","file":"js/chunk-66b23f04.52d288ef.js","sourcesContent":["<template>\n  <table class=\"w-full text-center\">\n    <thead>\n      <tr class=\"border-b-2\">\n        <th class=\"w-1/3\">商品名稱</th>\n        <th class=\"w-1/6\">單價</th>\n        <th class=\"w-1/6\">數量</th>\n        <th class=\"w-1/6\">小計</th>\n        <th class=\"w-1/6\" v-if=\"!order\">刪除</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"product in products\" :key=\"product.id\" class=\"border-b-[1px]\">\n        <td class=\"flex flex-col items-center py-3 lg:flex-row\">\n          <img\n            :src=\"product.product.imageUrl\"\n            :alt=\"product.product.title\"\n            class=\"w-[100px] mb-2 lg:mb-0 lg:mr-6 object-cover h-[70px]\"\n          />\n          <p>{{ product.product.title }}</p>\n        </td>\n        <td>{{ product.product.price }}</td>\n        <td>\n          <input\n            type=\"number\"\n            v-model=\"product.qty\"\n            class=\"w-full px-3 border-2 rounded-lg\"\n            @change=\"changeProductQuantity(product)\"\n            v-if=\"!order\"\n          />\n          <p v-if=\"order\">{{ product.qty }}</p>\n        </td>\n        <td>\n          <p>{{ Math.round(product.final_total) }}</p>\n          <p v-if=\"useCoupon(product.coupon)\">已套用優惠券：{{ useCoupon(product.coupon) }}</p>\n        </td>\n        <td v-if=\"!order\">\n          <img\n            src=\"@/assets/svg/trash-can-solid.svg\"\n            alt=\"刪除\"\n            class=\"w-[20px] h-[20px] mx-auto hover:scale-150 cursor-pointer\"\n            @click=\"deleteProduct(product.id)\"\n          />\n        </td>\n      </tr>\n      <tr>\n        <td></td>\n        <td></td>\n        <td class=\"pt-2 lg:text-right\">\n          <p>總計：</p>\n        </td>\n        <td class=\"pt-2\">\n          <p>{{ Math.round(sumsPriceTotal) }}</p>\n        </td>\n        <td v-if=\"!order\" class=\"pt-2\">\n          <img\n            src=\"@/assets/svg/trash-can-solid.svg\"\n            alt=\"刪除\"\n            class=\"w-[20px] h-[20px] mx-auto hover:scale-150 block cursor-pointer\"\n            @click=\"deleteProduct\"\n          />\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</template>\n\n<script>\nexport default {\n  props: {\n    products: {\n      type: Array,\n      required: true,\n    },\n    order: {\n      type: Boolean,\n      required: false,\n    },\n  },\n  computed: {\n    sumsPriceTotal() {\n      if (this.products) {\n        return this.products.reduce((sum, item) => {\n          const sums = sum + item.final_total;\n          return sums;\n        }, 0);\n      }\n      return 0;\n    },\n  },\n  methods: {\n    async changeProductQuantity(product) {\n      if (product.qty < 1) {\n        this.deleteProduct(product.id);\n      } else {\n        const data = {\n          id: product.id,\n          data: {\n            product_id: product.product_id,\n            qty: product.qty,\n          },\n        };\n        await this.$store.dispatch('forestageCart/changeProductQuantity', data);\n      }\n    },\n    async deleteProduct(id) {\n      await this.$store.dispatch('forestageCart/deleteProduct', id);\n      await this.$store.dispatch('forestageCart/getCart');\n    },\n    useCoupon(coupon) {\n      return coupon?.code ? coupon.code : '';\n    },\n  },\n};\n</script>\n","import { render } from \"./CartProductList.vue?vue&type=template&id=7310c514\"\nimport script from \"./CartProductList.vue?vue&type=script&lang=js\"\nexport * from \"./CartProductList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\pc\\\\Desktop\\\\practice\\\\clone\\\\Leaf\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/trash-can-solid.4839a2f8.svg\";","<template>\n  <ul class=\"p-4 mt-3 mb-5 bg-gray-100 rounded-lg\">\n    <li class=\"flex items-center gap-2 mb-2\" v-if=\"order.id\">\n      <h3 class=\"ml-5 text-lg\">訂單編號：</h3>\n      <p>{{ order.id }}</p>\n    </li>\n    <li class=\"flex items-center gap-2 mb-2\" v-if=\"order?.id !== undefined\">\n      <h3 class=\"ml-5 text-lg\">付款狀態：</h3>\n      <p :class=\"{ 'text-red-600': !order.is_paid }\">\n        {{ order.is_paid ? '已付款' : '未付款' }}\n      </p>\n    </li>\n    <li class=\"flex items-center mb-2\">\n      <p class=\"mr-2 text-lg ml-14\">姓名：</p>\n      <p>{{ order?.user?.name }}</p>\n    </li>\n    <li class=\"flex items-center mb-2\">\n      <p class=\"mr-2 text-lg ml-14\">電話：</p>\n      <a :href=\"'tel:+' + order.phone ?? order.user.tel\">\n        <p>{{ order?.user?.tel }}</p>\n      </a>\n    </li>\n    <li class=\"flex items-center mb-2\">\n      <p class=\"ml-5 mr-2 text-lg\">電子信箱：</p>\n      <a :href=\"'mailto:' + order.email ?? order.user.email\">\n        <p>{{ order?.user?.email }}</p></a\n      >\n    </li>\n    <li class=\"flex items-center mb-2\">\n      <p class=\"mr-2 text-lg ml-14\">地址：</p>\n      <p>{{ order?.user?.address }}</p>\n    </li>\n    <li class=\"flex items-center mb-2\">\n      <p class=\"mr-2 text-lg\">給賣家的話：</p>\n      <p>{{ order.message }}</p>\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  props: {\n    order: {\n      type: Object,\n      required: true,\n    },\n  },\n};\n</script>\n","import { render } from \"./ReceiptInformation.vue?vue&type=template&id=7f2f0c47\"\nimport script from \"./ReceiptInformation.vue?vue&type=script&lang=js\"\nexport * from \"./ReceiptInformation.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\pc\\\\Desktop\\\\practice\\\\clone\\\\Leaf\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <div class=\"container px-4 mx-auto pt-[130px] lg:pt-[112px]\">\n      <BaseBreadcrumb name=\"訂單查詢\" />\n      <h2 class=\"mt-3 mb-4 text-2xl font-bold\">訂單查詢</h2>\n      <div class=\"mb-10\">\n        <form\n          action=\"\"\n          class=\"flex flex-col items-center gap-3 mb-3 lg:flex-row\"\n          @submit.prevent=\"searchOrderFrom\"\n        >\n          <label for=\"orderId\" class=\"text-2xl font-bold lg:text-lg\">請輸入訂單編號</label>\n          <input\n            type=\"text\"\n            name=\"\"\n            id=\"orderId\"\n            class=\"p-[7px] border-2 rounded-lg w-full lg:w-1/3 xl:w-1/6\"\n            :class=\"{ 'border-red-300': orderId.isValue }\"\n            @blur=\"orderId.isValue = false\"\n            v-model.trim=\"orderId.value\"\n          />\n          <BaseBtn class=\"w-full lg:w-20\" type=\"submit\">搜尋</BaseBtn>\n        </form>\n      </div>\n      <div v-if=\"order?.id\" class=\"mb-10\">\n        <h3 class=\"mb-3 text-2xl font-bold\">商品清單</h3>\n        <CartProductList :products=\"products\" order />\n        <h3 class=\"mb-3 text-2xl font-bold\">訂單明細</h3>\n        <ReceiptInformation :order=\"order\" />\n        <BaseBtn class=\"w-full\" @click=\"payOrder\" v-if=\"!order.is_paid\">立即付款</BaseBtn>\n      </div>\n      <p class=\"mb-6 text-3xl text-center\" v-if=\"!order\">搜尋不到訂單，請確認訂單編號是否正確</p>\n    </div>\n    <div class=\"mb-12 bg-gray-100\">\n      <div class=\"container flex flex-col items-center justify-center p-4 px-6 mx-auto lg:flex-row\">\n        <h3 class=\"mb-2 lg:mr-6 lg:mb-0\">\n          限時限量優惠代碼，數量有限送完為止，結帳時請自行輸入折扣碼：\n          <span class=\"font-bold\">leafGo</span>\n        </h3>\n        <RouterLink to=\"/products\">\n          <BaseBtn class=\"w-[300px]\">快來選購</BaseBtn>\n        </RouterLink>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport CartProductList from '@/components/forestage/cart/CartProductList.vue';\nimport ReceiptInformation from '@/components/forestage/order/ReceiptInformation.vue';\n\nexport default {\n  components: { CartProductList, ReceiptInformation },\n  data() {\n    return {\n      orderId: {\n        value: '',\n        isValue: false,\n      },\n      order: {},\n      products: [],\n    };\n  },\n  methods: {\n    searchOrderFrom() {\n      if (this.orderId.value === '') {\n        this.orderId.isValue = true;\n        return;\n      }\n      this.searchOrder();\n      this.orderId.value = '';\n    },\n    async searchOrder() {\n      const id = this.orderId.value === '' ? this.order.id : this.orderId.value;\n      await this.$store.dispatch('forestageOrder/getOrder', id);\n      this.order = this.$store.getters['forestageOrder/order'];\n\n      this.products = Object.entries(this.order.products).map((item) => item[1]);\n    },\n    async payOrder() {\n      await this.$store.dispatch('forestageOrder/payOrder');\n      this.searchOrder();\n    },\n  },\n};\n</script>\n","import { render } from \"./OrderView.vue?vue&type=template&id=42c39dcd\"\nimport script from \"./OrderView.vue?vue&type=script&lang=js\"\nexport * from \"./OrderView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\pc\\\\Desktop\\\\practice\\\\clone\\\\Leaf\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}
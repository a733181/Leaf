(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66b23f04"],{"2a0e":function(e,t,r){"use strict";var c=r("7a23"),l=r("8e33"),n=r.n(l),o={class:"w-full text-center"},i={class:"border-b-2"},a=Object(c["i"])("th",{class:"w-1/3"},"商品名稱",-1),s=Object(c["i"])("th",{class:"w-1/6"},"單價",-1),d=Object(c["i"])("th",{class:"w-1/6"},"數量",-1),u=Object(c["i"])("th",{class:"w-1/6"},"小計",-1),b={key:0,class:"w-1/6"},O={class:"flex flex-col items-center py-3 lg:flex-row"},j=["src","alt"],p=["onUpdate:modelValue","onChange"],m={key:1},f={key:0},h={key:0},g=["onClick"],x=Object(c["i"])("td",null,null,-1),v=Object(c["i"])("td",null,null,-1),w=Object(c["i"])("td",{class:"pt-2 lg:text-right"},[Object(c["i"])("p",null,"總計：")],-1),y={class:"pt-2"},I={key:0,class:"pt-2"};function k(e,t,r,l,k,U){return Object(c["I"])(),Object(c["h"])("table",o,[Object(c["i"])("thead",null,[Object(c["i"])("tr",i,[a,s,d,u,r.order?Object(c["g"])("",!0):(Object(c["I"])(),Object(c["h"])("th",b,"刪除"))])]),Object(c["i"])("tbody",null,[(Object(c["I"])(!0),Object(c["h"])(c["a"],null,Object(c["P"])(r.products,(function(e){return Object(c["I"])(),Object(c["h"])("tr",{key:e.id,class:"border-b-[1px]"},[Object(c["i"])("td",O,[Object(c["i"])("img",{src:e.product.imageUrl,alt:e.product.title,class:"w-[100px] mb-2 lg:mb-0 lg:mr-6 object-cover h-[70px]"},null,8,j),Object(c["i"])("p",null,Object(c["U"])(e.product.title),1)]),Object(c["i"])("td",null,Object(c["U"])(e.product.price),1),Object(c["i"])("td",null,[r.order?Object(c["g"])("",!0):Object(c["gb"])((Object(c["I"])(),Object(c["h"])("input",{key:0,type:"number","onUpdate:modelValue":function(t){return e.qty=t},class:"w-full px-3 border-2 rounded-lg",onChange:function(t){return U.changeProductQuantity(e)}},null,40,p)),[[c["ab"],e.qty]]),r.order?(Object(c["I"])(),Object(c["h"])("p",m,Object(c["U"])(e.qty),1)):Object(c["g"])("",!0)]),Object(c["i"])("td",null,[Object(c["i"])("p",null,Object(c["U"])(Math.round(e.final_total)),1),U.useCoupon(e.coupon)?(Object(c["I"])(),Object(c["h"])("p",f,"已套用優惠券："+Object(c["U"])(U.useCoupon(e.coupon)),1)):Object(c["g"])("",!0)]),r.order?Object(c["g"])("",!0):(Object(c["I"])(),Object(c["h"])("td",h,[Object(c["i"])("img",{src:n.a,alt:"刪除",class:"w-[20px] h-[20px] mx-auto hover:scale-150 cursor-pointer",onClick:function(t){return U.deleteProduct(e.id)}},null,8,g)]))])})),128)),Object(c["i"])("tr",null,[x,v,w,Object(c["i"])("td",y,[Object(c["i"])("p",null,Object(c["U"])(Math.round(U.sumsPriceTotal)),1)]),r.order?Object(c["g"])("",!0):(Object(c["I"])(),Object(c["h"])("td",I,[Object(c["i"])("img",{src:n.a,alt:"刪除",class:"w-[20px] h-[20px] mx-auto hover:scale-150 block cursor-pointer",onClick:t[0]||(t[0]=function(){return U.deleteProduct&&U.deleteProduct.apply(U,arguments)})})]))])])])}var U=r("1da1"),C=(r("96cf"),r("d3b7"),{props:{products:{type:Array,required:!0},order:{type:Boolean,required:!1}},computed:{sumsPriceTotal:function(){return this.products?this.products.reduce((function(e,t){var r=e+t.final_total;return r}),0):0}},methods:{changeProductQuantity:function(e){var t=this;return Object(U["a"])(regeneratorRuntime.mark((function r(){var c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(e.qty<1)){r.next=4;break}t.deleteProduct(e.id),r.next=7;break;case 4:return c={id:e.id,data:{product_id:e.product_id,qty:e.qty}},r.next=7,t.$store.dispatch("forestageCart/changeProductQuantity",c);case 7:case"end":return r.stop()}}),r)})))()},deleteProduct:function(e){var t=this;return Object(U["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("forestageCart/deleteProduct",e);case 2:return r.next=4,t.$store.dispatch("forestageCart/getCart");case 4:case"end":return r.stop()}}),r)})))()},useCoupon:function(e){return null!==e&&void 0!==e&&e.code?e.code:""}}}),R=r("d959"),P=r.n(R);const _=P()(C,[["render",k]]);t["a"]=_},"8e33":function(e,t,r){e.exports=r.p+"img/trash-can-solid.4839a2f8.svg"},cc68:function(e,t,r){"use strict";r("b0c0");var c=r("7a23"),l={class:"p-4 mt-3 mb-5 bg-gray-100 rounded-lg"},n={key:0,class:"flex items-center gap-2 mb-2"},o=Object(c["i"])("h3",{class:"ml-5 text-lg"},"訂單編號：",-1),i={key:1,class:"flex items-center gap-2 mb-2"},a=Object(c["i"])("h3",{class:"ml-5 text-lg"},"付款狀態：",-1),s={class:"flex items-center mb-2"},d=Object(c["i"])("p",{class:"mr-2 text-lg ml-14"},"姓名：",-1),u={class:"flex items-center mb-2"},b=Object(c["i"])("p",{class:"mr-2 text-lg ml-14"},"電話：",-1),O=["href"],j={class:"flex items-center mb-2"},p=Object(c["i"])("p",{class:"ml-5 mr-2 text-lg"},"電子信箱：",-1),m=["href"],f={class:"flex items-center mb-2"},h=Object(c["i"])("p",{class:"mr-2 text-lg ml-14"},"地址：",-1),g={class:"flex items-center mb-2"},x=Object(c["i"])("p",{class:"mr-2 text-lg"},"給賣家的話：",-1);function v(e,t,r,v,w,y){var I,k,U,C,R,P,_,q,V,B,$;return Object(c["I"])(),Object(c["h"])("ul",l,[r.order.id?(Object(c["I"])(),Object(c["h"])("li",n,[o,Object(c["i"])("p",null,Object(c["U"])(r.order.id),1)])):Object(c["g"])("",!0),void 0!==(null===(I=r.order)||void 0===I?void 0:I.id)?(Object(c["I"])(),Object(c["h"])("li",i,[a,Object(c["i"])("p",{class:Object(c["x"])({"text-red-600":!r.order.is_paid})},Object(c["U"])(r.order.is_paid?"已付款":"未付款"),3)])):Object(c["g"])("",!0),Object(c["i"])("li",s,[d,Object(c["i"])("p",null,Object(c["U"])(null===(k=r.order)||void 0===k||null===(U=k.user)||void 0===U?void 0:U.name),1)]),Object(c["i"])("li",u,[b,Object(c["i"])("a",{href:null!==(C="tel:+"+r.order.phone)&&void 0!==C?C:r.order.user.tel},[Object(c["i"])("p",null,Object(c["U"])(null===(R=r.order)||void 0===R||null===(P=R.user)||void 0===P?void 0:P.tel),1)],8,O)]),Object(c["i"])("li",j,[p,Object(c["i"])("a",{href:null!==(_="mailto:"+r.order.email)&&void 0!==_?_:r.order.user.email},[Object(c["i"])("p",null,Object(c["U"])(null===(q=r.order)||void 0===q||null===(V=q.user)||void 0===V?void 0:V.email),1)],8,m)]),Object(c["i"])("li",f,[h,Object(c["i"])("p",null,Object(c["U"])(null===(B=r.order)||void 0===B||null===($=B.user)||void 0===$?void 0:$.address),1)]),Object(c["i"])("li",g,[x,Object(c["i"])("p",null,Object(c["U"])(r.order.message),1)])])}var w={props:{order:{type:Object,required:!0}}},y=r("d959"),I=r.n(y);const k=I()(w,[["render",v]]);t["a"]=k},f27a:function(e,t,r){"use strict";r.r(t);var c=r("7a23"),l={class:"container px-4 mx-auto pt-[130px] lg:pt-[112px]"},n=Object(c["i"])("h2",{class:"mt-3 mb-4 text-2xl font-bold"},"訂單查詢",-1),o={class:"mb-10"},i=Object(c["i"])("label",{for:"orderId",class:"text-2xl font-bold lg:text-lg"},"請輸入訂單編號",-1),a=Object(c["l"])("搜尋"),s={key:0,class:"mb-10"},d=Object(c["i"])("h3",{class:"mb-3 text-2xl font-bold"},"商品清單",-1),u=Object(c["i"])("h3",{class:"mb-3 text-2xl font-bold"},"訂單明細",-1),b=Object(c["l"])("立即付款"),O={key:1,class:"mb-6 text-3xl text-center"},j={class:"mb-12 bg-gray-100"},p={class:"container flex flex-col items-center justify-center p-4 px-6 mx-auto lg:flex-row"},m=Object(c["i"])("h3",{class:"mb-2 lg:mr-6 lg:mb-0"},[Object(c["l"])(" 限時限量優惠代碼，數量有限送完為止，結帳時請自行輸入折扣碼： "),Object(c["i"])("span",{class:"font-bold"},"leafGo")],-1),f=Object(c["l"])("快來選購");function h(e,t,r,h,g,x){var v,w=Object(c["R"])("BaseBreadcrumb"),y=Object(c["R"])("BaseBtn"),I=Object(c["R"])("CartProductList"),k=Object(c["R"])("ReceiptInformation"),U=Object(c["R"])("RouterLink");return Object(c["I"])(),Object(c["h"])("div",null,[Object(c["i"])("div",l,[Object(c["m"])(w,{name:"訂單查詢"}),n,Object(c["i"])("div",o,[Object(c["i"])("form",{action:"",class:"flex flex-col items-center gap-3 mb-3 lg:flex-row",onSubmit:t[2]||(t[2]=Object(c["ib"])((function(){return x.searchOrderFrom&&x.searchOrderFrom.apply(x,arguments)}),["prevent"]))},[i,Object(c["gb"])(Object(c["i"])("input",{type:"text",name:"",id:"orderId",class:Object(c["x"])(["p-[7px] border-2 rounded-lg w-full lg:w-1/3 xl:w-1/6",{"border-red-300":g.orderId.isValue}]),onBlur:t[0]||(t[0]=function(e){return g.orderId.isValue=!1}),"onUpdate:modelValue":t[1]||(t[1]=function(e){return g.orderId.value=e})},null,34),[[c["ab"],g.orderId.value,void 0,{trim:!0}]]),Object(c["m"])(y,{class:"w-full lg:w-20",type:"submit"},{default:Object(c["fb"])((function(){return[a]})),_:1})],32)]),null!==(v=g.order)&&void 0!==v&&v.id?(Object(c["I"])(),Object(c["h"])("div",s,[d,Object(c["m"])(I,{products:g.products,order:""},null,8,["products"]),u,Object(c["m"])(k,{order:g.order},null,8,["order"]),g.order.is_paid?Object(c["g"])("",!0):(Object(c["I"])(),Object(c["f"])(y,{key:0,class:"w-full",onClick:x.payOrder},{default:Object(c["fb"])((function(){return[b]})),_:1},8,["onClick"]))])):Object(c["g"])("",!0),g.order?Object(c["g"])("",!0):(Object(c["I"])(),Object(c["h"])("p",O,"搜尋不到訂單，請確認訂單編號是否正確"))]),Object(c["i"])("div",j,[Object(c["i"])("div",p,[m,Object(c["m"])(U,{to:"/products"},{default:Object(c["fb"])((function(){return[Object(c["m"])(y,{class:"w-[300px]"},{default:Object(c["fb"])((function(){return[f]})),_:1})]})),_:1})])])])}var g=r("1da1"),x=(r("96cf"),r("d81d"),r("4fad"),r("2a0e")),v=r("cc68"),w={components:{CartProductList:x["a"],ReceiptInformation:v["a"]},data:function(){return{orderId:{value:"",isValue:!1},order:{},products:[]}},methods:{searchOrderFrom:function(){""!==this.orderId.value?(this.searchOrder(),this.orderId.value=""):this.orderId.isValue=!0},searchOrder:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=""===e.orderId.value?e.order.id:e.orderId.value,t.next=3,e.$store.dispatch("forestageOrder/getOrder",r);case 3:e.order=e.$store.getters["forestageOrder/order"],e.products=Object.entries(e.order.products).map((function(e){return e[1]}));case 5:case"end":return t.stop()}}),t)})))()},payOrder:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("forestageOrder/payOrder");case 2:e.searchOrder();case 3:case"end":return t.stop()}}),t)})))()}}},y=r("d959"),I=r.n(y);const k=I()(w,[["render",h]]);t["default"]=k}}]);
//# sourceMappingURL=chunk-66b23f04.52d288ef.js.map